#include <bits/stdc++.h>
#include <cstring>
#include <iostream>
#include <map>
using namespace std;

char c1, confirm_quantity;
float quantity;
int selectedNum;
double total_amount = 0;
int flag = 0;

// Stores items with their corresponding
// price
map<string, double> items = {
	{ "Espresso with milk", 60 },
	{ "Espresso with cream", 75 },
	{ "Espresso with latte", 100 },
	{ "Capassinno with milk", 80 },
	{ "Capassinno with cream", 90 },
	{ "Capassinno with latte", 125 },
	{ "Latte with milk", 100 },
	{ "Latte with cream", 125 },
	{ "Latte with latte", 150 },
};

// Stores the selected items with
// their quantity
map<string, int> selected_items;

// Function to print the bill after shopping
// is completed prints the items, quantity,
// their cost along with total amount
void printBill(map<string, double> items,
			map<string, int> selected_items,
			float total_amount)
{
	cout << "Item	            "
		<< "Quantity	      "
		<< "Cost\n";

	for (auto j = selected_items.begin();
		j != selected_items.end(); j++) {
		cout << j->first << "	 ";
		cout << j->second << "		 ";
		cout << (selected_items[j->first])
					* (items[j->first])
			<< endl;
	}

	cout << "-----------------------"
		<< "-------------\n   ";
	cout << "Total amount:			 "
		<< total_amount << endl;
	cout << "-----------------------"
		<< "-------------\n";
	cout << "*****THANK YOU && HAPPY"
		<< " ONLINE SHOPPING*****";
}



// showMenu() is to print the
// menu to the user
void showMenu()
{
	cout << "Menu\n";
	cout << "= = = = = = = = "
		<< " = = = = = \n";
	cout << "1.Espresso\n2.Capassinno\n3"
		<< ".Latte\n";
	cout << "= = = = = = = = "
		<< " = = = = = \n";
}

// Function to display the Espresso add-ons
void showEspressoMenu()
{
	cout << "- - - - - - - - - - -"
		<< " - -\nItem	 Cost\n";
	cout << "1.milk Rs.15, 000/-\n";
	cout << "2.cream Rs.12, 000/-\n";
	cout << "3.latte Rs.1, 00, 000/-\n";
	cout << "- - - - - - - - - - - - -\n";
}

// Function to display Capassinno add-ons
void showCapassinnoMenu()
{
	cout << "- - - - - - - - - - -"
		<< " - -\nItem	 Cost\n";
	cout << "1.milk Rs.2, 00, 000/-\n";
	cout << "2.cream	 Rs.40, 000/-\n";
	cout << "3.latte Rs.35, 000/-\n";
	cout << "- - - - - - - - - - - - -\n";
}

// Function to display Latte add-ons
void showLatteMenu()
{
	cout << "- - - - - - - - - - "
		<< " - -\nItem	 Cost\n";
	cout << "1.milk	 Rs.1, 000/-\n";
	cout << "2.cream	 Rs.3, 000/-\n";
	cout << "3.latte	 Rs.4, 000/-\n";
	cout << "- - - - - - - - - - - - -\n";
}

// Function to display the Espresso category
void selectedEspresso()
{
	        cout<<"Please select your add on below ............"<<endl;

		cout << "Enter respective number: ";
		cin >> selectedNum;

		if (selectedNum == 1
			|| selectedNum == 2
			|| selectedNum == 3) {

			// Selected Milk
			if (selectedNum == 1) {

				cout << "selected milk\n";
				do {
					cout << "Quantity: ";

					cin >> quantity;

					cout << "You have selected Espresso with milk - "
						<< quantity << endl;
					cout << "Are you sure?"
						<< "(for yes press (Y/y ), "
						<< " if no press other letter): ";

					cin >> confirm_quantity;

				} while ((confirm_quantity != 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity) != floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {
					total_amount += quantity
									* items["Espresso with milk"];
					selected_items["Espresso with milk"] = quantity;
					cout << "amount = "
						<< total_amount << endl;
				}
			}

			// Selected Cream
			if (selectedNum == 2) {

				cout << "selected cream\n";

				do {
					cout << "Quantity: ";
					cin >> quantity;
					cout << "You have selec"
						<< "ted Espresso with cream - "
						<< quantity << endl;
					cout << "Are you sure?(f"
						<< "or yes press (Y/y ), "
						<< " if no press other letter ): ";
					cin >> confirm_quantity;
				} while ((confirm_quantity != 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity)
							!= floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {

					total_amount += quantity
									* items["Espresso with cream"];
					selected_items["Espresso with cream"] = quantity;
					cout << "amount = "
						<< total_amount << endl;
				}
			}

			// Selected Latte
			if (selectedNum == 3) {

				cout << "You have selected latte\n";

				do {
					cout << "Quantity: ";
					cin >> quantity;
					cout << "You have selected"
						<< " Espresso with latte - "
						<< quantity
						<< endl;
					cout << "Are you sure?"
						<< "(for yes press (Y/y )"
						<< ", if no press other letter ): ";
					cin >> confirm_quantity;
				} while ((confirm_quantity != 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity)
							!= floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {
					total_amount += quantity
									* items["Espresso with latte"];
					selected_items["Espresso with latte"] = quantity;
					cout << "amount = "
						<< total_amount
						<< endl;
				}
			}
		}
		else {
			flag = 1;
		}

}

// If Capassinno coffee is selected
void selectedCapassinno()
{
	
        cout<<"Please select your add on below ............"<<endl;

		cout << "Enter respective number: ";
		cin >> selectedNum;

		if (selectedNum == 1
			|| selectedNum == 2
			|| selectedNum == 3) {

			// selected Milk
			if (selectedNum == 1) {
				cout << "selected milk\n";
				do {

					cout << "Quantity: ";
					cin >> quantity;

					cout << "You have selected"
						<< " Capassinno with milk - "
						<< quantity << endl;
					cout << "Are you sure?"
						<< "(for yes press (Y/y ), "
						<< " if no press other letter ): ";
					cin >> confirm_quantity;
				} while ((confirm_quantity != 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity)
							!= floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {
					total_amount += quantity
									* items["Capassinno with milk"];
					selected_items["Capassinno with milk"] = quantity;
					cout << "amount = "
						<< total_amount
						<< endl;
				}
			}

			// selected Cream
			if (selectedNum == 2) {
				cout << "selected cream\n";
				do {
					cout << "Quantity: ";
					cin >> quantity;
					cout << "You have selected"
						<< " Capassinno with cream - "
						<< quantity << endl;
					cout << "Are you sure?"
						<< "(for yes press (Y/y ), "
						<< " if no press other letter ): ";
					cin >> confirm_quantity;
				} while ((confirm_quantity
							!= 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity)
							!= floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {
					total_amount += quantity
									* items["Capassinno with cream"];
					selected_items["Capassinno with cream"] = quantity;
					cout << "amount = "
						<< total_amount
						<< endl;
				}
			}

			// selected Latte
			if (selectedNum == 3) {
				cout << "selected latte\n";
				do {

					cout << "Quantity: ";
					cin >> quantity;

					cout << "You have selected"
							" Capassinno with latte - "
						<< quantity << endl;
					cout << "Are you sure?"
						<< "(for yes press (Y/y ), "
						<< "if no press other letter ): ";
					cin >> confirm_quantity;
				} while ((confirm_quantity != 'y'
						&& confirm_quantity != 'Y')
						|| (quantity < 0)
						|| (ceil(quantity)
							!= floor(quantity)));

				if (confirm_quantity == 'y'
					|| confirm_quantity == 'Y') {
					total_amount += quantity
									* items["Capassinno with latte"];
					selected_items["Capassinno with latte"] = quantity;
					cout << "amount = "
						<< total_amount
						<< endl;
				}
			}
		}
		else {
			flag = 1;
		}
	

}

// If Latte coffe selected
void selectedLatte()
{
        cout<<"Please select your add on below ............"<<endl;
		cout << "Enter the respective number: ";
		cin >> selectedNum;
		if (selectedNum == 1
			|| selectedNum == 2
			|| selectedNum == 3
			|| selectedNum == 4) {

			// selected Milk
			if (selectedNum == 1) {
				cout << "selected milk"
					<< " \n";
				total_amount += items["Latte with milk"];
				selected_items["Latte with milk"]++;
				cout << "amount = "
					<< total_amount
					<< endl;
			}

			// selected cream
			if (selectedNum == 2) {
				cout << "selected cream\n";
				total_amount += items["Latte with cream"];
				selected_items["Latte with cream"]++;
				cout << "amount = " << total_amount << endl;
			}

			// selected Latte
			if (selectedNum == 3) {
				cout << "selected latte\n";
				total_amount += items["Latte with latte"];
				selected_items["Latte with latte"]++;
				cout << "amount = " << total_amount << endl;
			}


		}
		else {
			flag = 1;
		}
	
}

int main()
{
    // function call

    do {
        showMenu();
cout << "Do you wish to continue?"
             << "(for yes press (Y/y ), "
             << " if no press other letter ): ";
             char c;
        cin >> c;
        if (c == 'Y' || c == 'y') {
            cout << "Enter respective number: ";
            int num;
            cin >> num;
            if (num == 1 || num == 2
                || num == 3) {
                switch (num) {
                case 1:
 
                    // For Espresso
                    showEspressoMenu();
                    selectedEspresso();
                    break;
 
                case 2:
 
                    // For Capassinno
                    showCapassinnoMenu();
                    selectedCapassinno();
                    break;
 
                case 3:
 
                    // For Latte
                    showLatteMenu();
                    selectedLatte();
                    break;
                }
            }
            else {
                flag = 1;
            }
        }
        else {
            flag = 1;
        }
 
    } while (flag == 0);
 
    // print bill
    printBill(items, selected_items,
              total_amount);
}
